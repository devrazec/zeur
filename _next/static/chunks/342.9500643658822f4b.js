(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{5603:()=>{},8682:()=>{},9342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(5155),l=n(2115);let o=(0,l.createContext)(null);function i(){let e=(0,l.use)(o);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var u=n(5027),a=n.n(u);let c=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:c,style:s,whenReady:f,zoom:p,...d},m){let[y]=(0,l.useState)({className:i,id:a,style:s}),[v,h]=(0,l.useState)(null),g=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(m,()=>v?.map??null,[v]);let x=(0,l.useCallback)(r=>{if(null!==r&&!g.current){let l=new u.Map(r,d);g.current=l,null!=n&&null!=p?l.setView(n,p):null!=e&&l.fitBounds(e,t),null!=f&&l.whenReady(f),h(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{v?.map.remove()},[v]);let S=v?l.createElement(o,{value:v},r):c??null;return l.createElement("div",{...y,ref:x},S)});function s(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}n(7650);let f=function(e,t){var n,r;return n=null==t?function(t,n){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let o=(0,l.useRef)(void 0);o.current||(o.current=e(n,r));let i=(0,l.useRef)(n),{instance:u}=o.current;return(0,l.useEffect)(function(){i.current!==n&&(t(u,n,i.current),i.current=n)},[u,n,t]),o},r=function(e){var t;let r=i(),o=n(s(e,r),r);return!function(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}(r.map,e.attribution),!function(e,t){let n=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}(o.current,e.eventHandlers),t=o.current,(0,l.useEffect)(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t]),o},(0,l.forwardRef)(function(e,t){let{instance:n}=r(e).current;return(0,l.useImperativeHandle)(t,()=>n),null})}(function({url:e,...t},n){return Object.freeze({instance:new u.TileLayer(e,s(t,n)),context:n,container:void 0})},function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l);let{url:o}=t;null!=o&&o!==n.url&&e.setUrl(o)});function p(){return i().map}n(5603),n(8682);var d=n(8126),m=n(2669),y=n(2821),v=n(7659);let h=n(2183).A;var g=n(3112),x=n(2257),S=n(7179),z=n(3053),C=n(1421);function E(e){return(0,C.Ay)("MuiSvgIcon",e)}(0,z.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);let w=(0,g.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(h(n.color))],t["fontSize".concat(h(n.fontSize))]]}})((0,x.A)(e=>{var t,n,r,l,o,i,u,a,c,s,f,p,d,m,y,v,h,g;let{theme:x}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null==(l=x.transitions)||null==(r=l.create)?void 0:r.call(l,"fill",{duration:null==(n=(null!=(y=x.vars)?y:x).transitions)||null==(t=n.duration)?void 0:t.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null==(i=x.typography)||null==(o=i.pxToRem)?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null==(a=x.typography)||null==(u=a.pxToRem)?void 0:u.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null==(s=x.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"}},...Object.entries((null!=(v=x.vars)?v:x).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n,r;let[l]=e;return{props:{color:l},style:{color:null==(n=(null!=(r=x.vars)?r:x).palette)||null==(t=n[l])?void 0:t.main}}}),{props:{color:"action"},style:{color:null==(p=(null!=(h=x.vars)?h:x).palette)||null==(f=p.action)?void 0:f.active}},{props:{color:"disabled"},style:{color:null==(m=(null!=(g=x.vars)?g:x).palette)||null==(d=m.action)?void 0:d.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),b=l.forwardRef(function(e,t){let n=(0,S.b)({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:u="inherit",component:a="svg",fontSize:c="medium",htmlColor:s,inheritViewBox:f=!1,titleAccess:p,viewBox:d="0 0 24 24",...m}=n,g=l.isValidElement(o)&&"svg"===o.type,x={...n,color:u,component:a,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:d,hasSvgAsChild:g},z={};f||(z.viewBox=d);let C=(e=>{let{color:t,fontSize:n,classes:r}=e,l={root:["root","inherit"!==t&&"color".concat(h(t)),"fontSize".concat(h(n))]};return(0,v.A)(l,E,r)})(x);return(0,r.jsxs)(w,{as:a,className:(0,y.A)(C.root,i),focusable:"false",color:s,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t,...z,...m,...g&&o.props,ownerState:x,children:[g?o.props.children:o,p?(0,r.jsx)("title",{children:p}):null]})});function R(e,t){function n(t,n){return(0,r.jsx)(b,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=b.muiName,l.memo(l.forwardRef(n))}b.muiName="SvgIcon";let j=R((0,r.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),M=()=>{let e=p(),{geoZoomView:t,setGeoZoomView:n,geoInitialView:o,setGeoInitialView:i}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{let n=document.querySelector(".leaflet-control-zoom");if(!n)return;let l=a().DomUtil.create("a","leaflet-control-zoom-reset",n);l.href="#",l.title="Return to default view",l.classList.add("leaflet-control-zoom-in"),l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.width="30px",l.style.height="30px",l.style.fontSize="30px",l.style.cursor="pointer";let i=document.createElement("span");l.appendChild(i);let u=(0,m.createRoot)(i);return u.render((0,r.jsx)(j,{sx:{fontSize:20,color:"#000"}})),l.onclick=n=>{n.preventDefault(),e.setView(o,t,{animate:!0})},()=>{n.contains(l)&&n.removeChild(l),u.unmount()}},[e,o,i,t,n]),null},I=R((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),L=()=>{let e=p();return(0,l.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let n=a().DomUtil.create("a","leaflet-control-zoom-location leaflet-control-zoom-in",t);n.href="#",n.title="Show my location",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.width="30px",n.style.height="30px",n.style.fontSize="30px",n.style.cursor="pointer";let l=document.createElement("span");n.appendChild(l);let o=(0,m.createRoot)(l);return o.render((0,r.jsx)(I,{sx:{fontSize:20,color:"#000"}})),n.onclick=t=>{if(t.preventDefault(),!navigator.geolocation)return void alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(t=>{let{latitude:n,longitude:r}=t.coords;e.panTo([n,r],{animate:!0}),a().circleMarker([n,r],{radius:8,weight:2,color:"#00473C",fillColor:"#057642",fillOpacity:.7}).addTo(e)},()=>{alert("Unable to get your location")})},()=>{t.contains(n)&&t.removeChild(n),o.unmount()}},[e]),null},A=()=>{let e=p(),{geoBrazil:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let n=t.features[0].geometry,r=[];if("Polygon"===n.type){let e=n.coordinates[0].map(e=>{let[t,n]=e;return[n,t]});r.push(e)}else"MultiPolygon"===n.type&&n.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,n]=e;return[n,t]});r.push(t)});let l=r.map(t=>a().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},k=()=>{let e=p(),{geoSaoPaulo:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let n=t.features[0].geometry,r=[];if("Polygon"===n.type){let e=n.coordinates[0].map(e=>{let[t,n]=e;return[n,t]});r.push(e)}else"MultiPolygon"===n.type&&n.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,n]=e;return[n,t]});r.push(t)});let l=r.map(t=>a().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},O=()=>{let e=p(),{geoMetropolitana:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let n=t.features[0].geometry,r=[];if("Polygon"===n.type){let e=n.coordinates[0].map(e=>{let[t,n]=e;return[n,t]});r.push(e)}else"MultiPolygon"===n.type&&n.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,n]=e;return[n,t]});r.push(t)});let l=r.map(t=>a().polygon(t,{color:"#057642",weight:2,fillColor:"#057642",fillOpacity:.2}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},T=l.memo(()=>{let{geoZoomView:e,geoInitialView:t}=(0,l.useContext)(d.F);return(0,r.jsxs)(c,{center:t,zoom:e,scrollWheelZoom:!0,zoomControl:!0,style:{height:"100%",width:"100%"},children:[(0,r.jsx)(f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(M,{}),(0,r.jsx)(L,{}),(0,r.jsx)(A,{}),(0,r.jsx)(k,{}),(0,r.jsx)(O,{})]})})}}]);