(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{1712:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>F});var r=o(5155),l=o(2115);let n=(0,l.createContext)(null);function i(){let e=(0,l.use)(n);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var a=o(5027),u=o.n(a);let c=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:o,children:r,className:i,id:u,placeholder:c,style:s,whenReady:f,zoom:p,...d},m){let[y]=(0,l.useState)({className:i,id:u,style:s}),[h,v]=(0,l.useState)(null),g=(0,l.useRef)(void 0);(0,l.useImperativeHandle)(m,()=>h?.map??null,[h]);let x=(0,l.useCallback)(r=>{if(null!==r&&!g.current){let l=new a.Map(r,d);g.current=l,null!=o&&null!=p?l.setView(o,p):null!=e&&l.fitBounds(e,t),null!=f&&l.whenReady(f),v(Object.freeze({__version:1,map:l}))}},[]);(0,l.useEffect)(()=>()=>{h?.map.remove()},[h]);let S=h?l.createElement(n,{value:h},r):c??null;return l.createElement("div",{...y,ref:x},S)});function s(e,t){let o=e.pane??t.pane;return o?{...e,pane:o}:e}o(7650);let f=function(e,t){var o,r;return o=null==t?function(t,o){let r=(0,l.useRef)(void 0);return r.current||(r.current=e(t,o)),r}:function(o,r){let n=(0,l.useRef)(void 0);n.current||(n.current=e(o,r));let i=(0,l.useRef)(o),{instance:a}=n.current;return(0,l.useEffect)(function(){i.current!==o&&(t(a,o,i.current),i.current=o)},[a,o,t]),n},r=function(e){var t;let r=i(),n=o(s(e,r),r);return!function(e,t){let o=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==o.current&&null!=e.attributionControl&&(null!=o.current&&e.attributionControl.removeAttribution(o.current),null!=t&&e.attributionControl.addAttribution(t)),o.current=t},[e,t])}(r.map,e.attribution),!function(e,t){let o=(0,l.useRef)(void 0);(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),o.current=t,function(){null!=o.current&&e.instance.off(o.current),o.current=null}},[e,t])}(n.current,e.eventHandlers),t=n.current,(0,l.useEffect)(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t]),n},(0,l.forwardRef)(function(e,t){let{instance:o}=r(e).current;return(0,l.useImperativeHandle)(t,()=>o),null})}(function({url:e,...t},o){return Object.freeze({instance:new a.TileLayer(e,s(t,o)),context:o,container:void 0})},function(e,t,o){let{opacity:r,zIndex:l}=t;null!=r&&r!==o.opacity&&e.setOpacity(r),null!=l&&l!==o.zIndex&&e.setZIndex(l);let{url:n}=t;null!=n&&n!==o.url&&e.setUrl(n)});function p(){return i().map}o(5603),o(8682);var d=o(9603),m=o(2669),y=o(2821),h=o(7659);let v=o(2183).A;var g=o(3112),x=o(2257),S=o(7179),b=o(3053),z=o(1421);function C(e){return(0,z.Ay)("MuiSvgIcon",e)}(0,b.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);let E=(0,g.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,"inherit"!==o.color&&t["color".concat(v(o.color))],t["fontSize".concat(v(o.fontSize))]]}})((0,x.A)(e=>{var t,o,r,l,n,i,a,u,c,s,f,p,d,m,y,h,v,g;let{theme:x}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null==(l=x.transitions)||null==(r=l.create)?void 0:r.call(l,"fill",{duration:null==(o=(null!=(y=x.vars)?y:x).transitions)||null==(t=o.duration)?void 0:t.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null==(i=x.typography)||null==(n=i.pxToRem)?void 0:n.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null==(u=x.typography)||null==(a=u.pxToRem)?void 0:a.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null==(s=x.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"}},...Object.entries((null!=(h=x.vars)?h:x).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,o,r;let[l]=e;return{props:{color:l},style:{color:null==(o=(null!=(r=x.vars)?r:x).palette)||null==(t=o[l])?void 0:t.main}}}),{props:{color:"action"},style:{color:null==(p=(null!=(v=x.vars)?v:x).palette)||null==(f=p.action)?void 0:f.active}},{props:{color:"disabled"},style:{color:null==(m=(null!=(g=x.vars)?g:x).palette)||null==(d=m.action)?void 0:d.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),w=l.forwardRef(function(e,t){let o=(0,S.b)({props:e,name:"MuiSvgIcon"}),{children:n,className:i,color:a="inherit",component:u="svg",fontSize:c="medium",htmlColor:s,inheritViewBox:f=!1,titleAccess:p,viewBox:d="0 0 24 24",...m}=o,g=l.isValidElement(n)&&"svg"===n.type,x={...o,color:a,component:u,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:d,hasSvgAsChild:g},b={};f||(b.viewBox=d);let z=(e=>{let{color:t,fontSize:o,classes:r}=e,l={root:["root","inherit"!==t&&"color".concat(v(t)),"fontSize".concat(v(o))]};return(0,h.A)(l,C,r)})(x);return(0,r.jsxs)(E,{as:u,className:(0,y.A)(z.root,i),focusable:"false",color:s,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t,...b,...m,...g&&n.props,ownerState:x,children:[g?n.props.children:n,p?(0,r.jsx)("title",{children:p}):null]})});function j(e,t){function o(t,o){return(0,r.jsx)(w,{"data-testid":void 0,ref:o,...t,children:e})}return o.muiName=w.muiName,l.memo(l.forwardRef(o))}w.muiName="SvgIcon";let R=j((0,r.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),L=()=>{let e=p(),{geoZoomView:t,setGeoZoomView:o,geoInitialView:n,setGeoInitialView:i}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{let o=document.querySelector(".leaflet-control-zoom");if(!o)return;let l=u().DomUtil.create("a","leaflet-control-zoom-reset",o);l.href="#",l.title="Return to default view",l.classList.add("leaflet-control-zoom-in"),l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.width="30px",l.style.height="30px",l.style.fontSize="30px",l.style.cursor="pointer";let i=document.createElement("span");l.appendChild(i);let a=(0,m.createRoot)(i);return a.render((0,r.jsx)(R,{sx:{fontSize:20,color:"#000"}})),l.onclick=o=>{o.preventDefault(),e.setView(n,t,{animate:!0})},()=>{o.contains(l)&&o.removeChild(l),a.unmount()}},[e,n,i,t,o]),null},M=j((0,r.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),I=()=>{let e=p();return(0,l.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let o=u().DomUtil.create("a","leaflet-control-zoom-location leaflet-control-zoom-in",t);o.href="#",o.title="Show my location",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.width="30px",o.style.height="30px",o.style.fontSize="30px",o.style.cursor="pointer";let l=document.createElement("span");o.appendChild(l);let n=(0,m.createRoot)(l);return n.render((0,r.jsx)(M,{sx:{fontSize:20,color:"#000"}})),o.onclick=t=>{if(t.preventDefault(),!navigator.geolocation)return void alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(t=>{let{latitude:o,longitude:r}=t.coords;e.panTo([o,r],{animate:!0}),u().circleMarker([o,r],{radius:8,weight:2,color:"#00473C",fillColor:"#057642",fillOpacity:.7}).addTo(e)},()=>{alert("Unable to get your location")})},()=>{t.contains(o)&&t.removeChild(o),n.unmount()}},[e]),null},T=()=>{let e=p(),{geoBrazil:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let o=t.features[0].geometry,r=[];if("Polygon"===o.type){let e=o.coordinates[0].map(e=>{let[t,o]=e;return[o,t]});r.push(e)}else"MultiPolygon"===o.type&&o.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,o]=e;return[o,t]});r.push(t)});let l=r.map(t=>u().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},A=()=>{let e=p(),{geoSaoPaulo:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let o=t.features[0].geometry,r=[];if("Polygon"===o.type){let e=o.coordinates[0].map(e=>{let[t,o]=e;return[o,t]});r.push(e)}else"MultiPolygon"===o.type&&o.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,o]=e;return[o,t]});r.push(t)});let l=r.map(t=>u().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},O=()=>{let e=p(),{geoMetropolitana:t}=(0,l.useContext)(d.F);return(0,l.useEffect)(()=>{if(!e)return;let o=t.features[0].geometry,r=[];if("Polygon"===o.type){let e=o.coordinates[0].map(e=>{let[t,o]=e;return[o,t]});r.push(e)}else"MultiPolygon"===o.type&&o.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,o]=e;return[o,t]});r.push(t)});let l=r.map(t=>u().polygon(t,{color:"#057642",weight:2,fillColor:"#057642",fillOpacity:.2}).addTo(e));return()=>{l.forEach(t=>e.removeLayer(t))}},[e,t]),null},k=l.memo(()=>{let e=p(),{geoJuquitiba:t,geoSaoLorenco:o,geoEmbuGuacu:r,geoItapecericaSerra:n,geoCotia:i,geoEmbuArtes:a,geoVargemPaulista:c,geoTaboaoSerra:s}=(0,l.useContext)(d.F),f=(0,l.useMemo)(()=>[{geo:t,color:"#7e7ef5",label:"Juquitiba"},{geo:o,color:"#7e7ef5",label:"S\xe3o Loren\xe7o da Serra"},{geo:r,color:"#7e7ef5",label:"Embu-Gua\xe7u"},{geo:n,color:"#7e7ef5",label:"Itapecerica da Serra"},{geo:i,color:"#7e7ef5",label:"Cotia"},{geo:a,color:"#7e7ef5",label:"Embu das Artes"},{geo:c,color:"#7e7ef5",label:"Vargem Grande Paulista"},{geo:s,color:"#7e7ef5",label:"Tabo\xe3o da Serra"}],[t,o,r,n,i,a,c,s]);return(0,l.useEffect)(()=>{if(!e)return;let t=[];return f.forEach(o=>{let{geo:r,color:l,label:n}=o;if(!r)return;let i={color:l,weight:3,fillColor:l,fillOpacity:.3},a={weight:6,fillOpacity:.3},c=u().geoJSON(r,{style:i,onEachFeature:(t,o)=>{o.bindTooltip(n,{permanent:!1,direction:"top",opacity:.9}),o.on({mouseover:()=>{o.setStyle(a),u().Browser.ie||u().Browser.opera||u().Browser.edge||o.bringToFront()},mouseout:()=>o.setStyle(i),click:()=>{let t=o.getBounds();e.fitBounds(t,{padding:[30,30],maxZoom:11,animate:!0})}})}}).addTo(e);t.push(c)}),()=>t.forEach(t=>e.removeLayer(t))},[e,f]),null}),F=l.memo(()=>{let{geoZoomView:e,geoInitialView:t}=(0,l.useContext)(d.F);return(0,r.jsxs)(c,{center:t,zoom:e,scrollWheelZoom:!0,zoomControl:!0,style:{height:"100%",width:"100%"},children:[(0,r.jsx)(f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(L,{}),(0,r.jsx)(I,{}),(0,r.jsx)(T,{}),(0,r.jsx)(A,{}),(0,r.jsx)(O,{}),(0,r.jsx)(k,{})]})})},5603:()=>{},8682:()=>{}}]);