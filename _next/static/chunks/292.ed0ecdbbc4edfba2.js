(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{1911:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var n=r(5155),o=r(2115);let l=(0,o.createContext)(null);function u(){let e=(0,o.use)(l);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var a=r(5027),i=r.n(a);let c=(0,o.forwardRef)(function({bounds:e,boundsOptions:t,center:r,children:n,className:u,id:i,placeholder:c,style:s,whenReady:f,zoom:p,...d},m){let[y]=(0,o.useState)({className:u,id:i,style:s}),[h,g]=(0,o.useState)(null),x=(0,o.useRef)(void 0);(0,o.useImperativeHandle)(m,()=>h?.map??null,[h]);let v=(0,o.useCallback)(n=>{if(null!==n&&!x.current){let o=new a.Map(n,d);x.current=o,null!=r&&null!=p?o.setView(r,p):null!=e&&o.fitBounds(e,t),null!=f&&o.whenReady(f),g(Object.freeze({__version:1,map:o}))}},[]);(0,o.useEffect)(()=>()=>{h?.map.remove()},[h]);let C=h?o.createElement(l,{value:h},n):c??null;return o.createElement("div",{...y,ref:v},C)});function s(e,t){let r=e.pane??t.pane;return r?{...e,pane:r}:e}r(7650);let f=function(e,t){var r,n;return r=null==t?function(t,r){let n=(0,o.useRef)(void 0);return n.current||(n.current=e(t,r)),n}:function(r,n){let l=(0,o.useRef)(void 0);l.current||(l.current=e(r,n));let u=(0,o.useRef)(r),{instance:a}=l.current;return(0,o.useEffect)(function(){u.current!==r&&(t(a,r,u.current),u.current=r)},[a,r,t]),l},n=function(e){var t;let n=u(),l=r(s(e,n),n);return!function(e,t){let r=(0,o.useRef)(t);(0,o.useEffect)(function(){t!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=t&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}(n.map,e.attribution),!function(e,t){let r=(0,o.useRef)(void 0);(0,o.useEffect)(function(){return null!=t&&e.instance.on(t),r.current=t,function(){null!=r.current&&e.instance.off(r.current),r.current=null}},[e,t])}(l.current,e.eventHandlers),t=l.current,(0,o.useEffect)(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t]),l},(0,o.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,o.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},r){return Object.freeze({instance:new a.TileLayer(e,s(t,r)),context:r,container:void 0})},function(e,t,r){let{opacity:n,zIndex:o}=t;null!=n&&n!==r.opacity&&e.setOpacity(n),null!=o&&o!==r.zIndex&&e.setZIndex(o);let{url:l}=t;null!=l&&l!==r.url&&e.setUrl(l)});function p(){return u().map}r(5603),r(8682);var d=r(9603),m=r(2669),y=r(5355);let h=(0,y.A)((0,n.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay"),g=()=>{let e=p(),{geoZoomView:t,setGeoZoomView:r,geoInitialView:l,setGeoInitialView:u}=(0,o.useContext)(d.F);return(0,o.useEffect)(()=>{let r=document.querySelector(".leaflet-control-zoom");if(!r)return;let o=i().DomUtil.create("a","leaflet-control-zoom-reset",r);o.href="#",o.title="Return to default view",o.classList.add("leaflet-control-zoom-in"),o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.width="30px",o.style.height="30px",o.style.fontSize="30px",o.style.cursor="pointer";let u=document.createElement("span");o.appendChild(u);let a=(0,m.createRoot)(u);return a.render((0,n.jsx)(h,{sx:{fontSize:20,color:"#000"}})),o.onclick=r=>{r.preventDefault(),e.setView(l,t,{animate:!0})},()=>{r.contains(o)&&r.removeChild(o),a.unmount()}},[e,l,u,t,r]),null},x=(0,y.A)((0,n.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),v=()=>{let e=p();return(0,o.useEffect)(()=>{let t=document.querySelector(".leaflet-control-zoom");if(!t)return;let r=i().DomUtil.create("a","leaflet-control-zoom-location leaflet-control-zoom-in",t);r.href="#",r.title="Show my location",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.width="30px",r.style.height="30px",r.style.fontSize="30px",r.style.cursor="pointer";let o=document.createElement("span");r.appendChild(o);let l=(0,m.createRoot)(o);return l.render((0,n.jsx)(x,{sx:{fontSize:20,color:"#000"}})),r.onclick=t=>{if(t.preventDefault(),!navigator.geolocation)return void alert("Geolocation not supported");navigator.geolocation.getCurrentPosition(t=>{let{latitude:r,longitude:n}=t.coords;e.panTo([r,n],{animate:!0}),i().circleMarker([r,n],{radius:8,weight:2,color:"#00473C",fillColor:"#057642",fillOpacity:.7}).addTo(e)},()=>{alert("Unable to get your location")})},()=>{t.contains(r)&&t.removeChild(r),l.unmount()}},[e]),null},C=()=>{let e=p(),{geoBrazil:t}=(0,o.useContext)(d.F);return(0,o.useEffect)(()=>{if(!e)return;let r=t.features[0].geometry,n=[];if("Polygon"===r.type){let e=r.coordinates[0].map(e=>{let[t,r]=e;return[r,t]});n.push(e)}else"MultiPolygon"===r.type&&r.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,r]=e;return[r,t]});n.push(t)});let o=n.map(t=>i().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{o.forEach(t=>e.removeLayer(t))}},[e,t]),null},E=()=>{let e=p(),{geoSaoPaulo:t}=(0,o.useContext)(d.F);return(0,o.useEffect)(()=>{if(!e)return;let r=t.features[0].geometry,n=[];if("Polygon"===r.type){let e=r.coordinates[0].map(e=>{let[t,r]=e;return[r,t]});n.push(e)}else"MultiPolygon"===r.type&&r.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,r]=e;return[r,t]});n.push(t)});let o=n.map(t=>i().polygon(t,{color:"#057642",weight:2,fillOpacity:.01}).addTo(e));return()=>{o.forEach(t=>e.removeLayer(t))}},[e,t]),null},b=()=>{let e=p(),{geoMetropolitana:t}=(0,o.useContext)(d.F);return(0,o.useEffect)(()=>{if(!e)return;let r=t.features[0].geometry,n=[];if("Polygon"===r.type){let e=r.coordinates[0].map(e=>{let[t,r]=e;return[r,t]});n.push(e)}else"MultiPolygon"===r.type&&r.coordinates.forEach(e=>{let t=e[0].map(e=>{let[t,r]=e;return[r,t]});n.push(t)});let o=n.map(t=>i().polygon(t,{color:"#057642",weight:2,fillColor:"#057642",fillOpacity:.2}).addTo(e));return()=>{o.forEach(t=>e.removeLayer(t))}},[e,t]),null},w=o.memo(()=>{let e=p(),{geoJuquitiba:t,geoSaoLorenco:r,geoEmbuGuacu:n,geoItapecericaSerra:l,geoCotia:u,geoEmbuArtes:a,geoVargemPaulista:c,geoTaboaoSerra:s}=(0,o.useContext)(d.F),f=(0,o.useMemo)(()=>[{geo:t,color:"#7e7ef5",label:"Juquitiba"},{geo:r,color:"#7e7ef5",label:"S\xe3o Loren\xe7o da Serra"},{geo:n,color:"#7e7ef5",label:"Embu-Gua\xe7u"},{geo:l,color:"#7e7ef5",label:"Itapecerica da Serra"},{geo:u,color:"#7e7ef5",label:"Cotia"},{geo:a,color:"#7e7ef5",label:"Embu das Artes"},{geo:c,color:"#7e7ef5",label:"Vargem Grande Paulista"},{geo:s,color:"#7e7ef5",label:"Tabo\xe3o da Serra"}],[t,r,n,l,u,a,c,s]);return(0,o.useEffect)(()=>{if(!e)return;let t=[];return f.forEach(r=>{let{geo:n,color:o,label:l}=r;if(!n)return;let u={color:o,weight:3,fillColor:o,fillOpacity:.3},a={weight:6,fillOpacity:.3},c=i().geoJSON(n,{style:u,onEachFeature:(t,r)=>{r.bindTooltip(l,{permanent:!1,direction:"top",opacity:.9}),r.on({mouseover:()=>{r.setStyle(a),i().Browser.ie||i().Browser.opera||i().Browser.edge||r.bringToFront()},mouseout:()=>r.setStyle(u),click:()=>{let t=r.getBounds();e.fitBounds(t,{padding:[30,30],maxZoom:11,animate:!0})}})}}).addTo(e);t.push(c)}),()=>t.forEach(t=>e.removeLayer(t))},[e,f]),null}),j=o.memo(()=>{let{geoZoomView:e,geoInitialView:t}=(0,o.useContext)(d.F);return(0,n.jsxs)(c,{center:t,zoom:e,scrollWheelZoom:!0,zoomControl:!0,style:{height:"100%",width:"100%"},children:[(0,n.jsx)(f,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,n.jsx)(g,{}),(0,n.jsx)(v,{}),(0,n.jsx)(C,{}),(0,n.jsx)(E,{}),(0,n.jsx)(b,{}),(0,n.jsx)(w,{})]})})},5603:()=>{},8682:()=>{}}]);