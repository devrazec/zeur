(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{2789:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a});var l=o(5155),n=o(2115),r=o(7911);let i={lat:-23.55052,lng:-46.633308},a=n.memo(()=>{let[e,t]=(0,n.useState)(""),[o,a]=(0,n.useState)(i),d=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!window.google||!d.current)return;d.current.innerHTML="";let e=document.createElement("gmp-place-autocomplete");return e.setAttribute("placeholder","Digite o endere\xe7o"),e.setAttribute("country","br"),e.addEventListener("gmp-placeselect",e=>{let o=e.detail.place;if(!(null==o?void 0:o.location))return;let l={lat:o.location.latitude,lng:o.location.longitude};t(o.formattedAddress),a(l),s.current&&s.current.setCenter([l.lng,l.lat])}),d.current.appendChild(e),()=>e.remove()},[]),(0,l.jsx)(r.c4,{apiKey:"AIzaSyAb70y0_HMW1Zp07hmz05DMhVW3LhP7gAI",libraries:["places"],children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 w-full relative",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Endere\xe7o"}),(0,l.jsx)("div",{ref:d,style:{width:"100%"}}),(0,l.jsx)("style",{children:"\n              gmp-place-autocomplete {\n                display: block;\n                width: 100%;\n              }\n              gmp-place-autocomplete::part(input) {\n                width: 100%;\n                padding: 0.75rem;\n                border-radius: 6px;\n                border: 1px solid #ccc;\n                font-size: 1rem;\n              }\n            "})]}),(0,l.jsxs)("div",{style:{height:"500px",width:"100%",position:"relative"},children:[(0,l.jsx)(r.T5,{ref:s,defaultCenter:i,defaultZoom:11,mapId:"ocorrencia-map",gestureHandling:"greedy",onClick:e=>{let o=null==e?void 0:e.position;if(!o)return;let l={lat:o.lat,lng:o.lng};a(l),window.google&&new window.google.maps.Geocoder().geocode({location:l},(e,o)=>{"OK"===o&&e[0]&&t(e[0].formatted_address)})},viewState:{longitude:o.lng,latitude:o.lat,zoom:16,transitionDuration:500},options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!0,scaleControl:!1,rotateControl:!1,keyboardShortcuts:!1,clickableIcons:!1,scrollwheel:!0},children:o&&(0,l.jsx)(r.J8,{position:o,draggable:!0,onDragEnd:e=>{let o={lat:e.latLng.lat(),lng:e.latLng.lng()};a(o),window.google&&new window.google.maps.Geocoder().geocode({location:o},(e,o)=>{"OK"===o&&e[0]&&t(e[0].formatted_address)})}})}),(0,l.jsx)("button",{onClick:()=>{if(!navigator.geolocation)return void alert("Geolocation is not supported by your browser.");navigator.geolocation.getCurrentPosition(e=>{let o={lat:e.coords.latitude,lng:e.coords.longitude};a(o),s.current&&s.current.setCenter([o.lng,o.lat]),window.google&&new window.google.maps.Geocoder().geocode({location:o},(e,o)=>{"OK"===o&&e[0]&&t(e[0].formatted_address)})},e=>{alert("Unable to retrieve your location: "+e.message)})},style:{position:"absolute",top:"10px",right:"10px",zIndex:10,backgroundColor:"white",border:"1px solid #ccc",padding:"8px 12px",borderRadius:"50%",cursor:"pointer",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},title:"Minha localiza\xe7\xe3o",children:"\uD83D\uDCCD"})]}),o&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("strong",{children:"Selected Location:"}),(0,l.jsxs)("div",{children:["Address: ",e]}),(0,l.jsxs)("div",{children:["Latitude: ",o.lat]}),(0,l.jsxs)("div",{children:["Longitude: ",o.lng]})]})]})})})},6623:(e,t,o)=>{Promise.resolve().then(o.bind(o,2789))}},e=>{e.O(0,[911,441,255,358],()=>e(e.s=6623)),_N_E=e.O()}]);